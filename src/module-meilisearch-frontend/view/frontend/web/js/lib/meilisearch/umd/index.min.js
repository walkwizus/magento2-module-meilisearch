(function(n,h){typeof exports=="object"&&typeof module!="undefined"?h(exports):typeof define=="function"&&define.amd?define(["exports"],h):(n=typeof globalThis!="undefined"?globalThis:n||self,h(n.meilisearch={}))})(this,function(n){"use strict";var Dt=Object.defineProperty,mt=Object.defineProperties;var bt=Object.getOwnPropertyDescriptors;var pt=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable;var nt=(n,h)=>(h=Symbol[n])?h:Symbol.for("Symbol."+n),It=n=>{throw TypeError(n)};var rt=(n,h,d)=>h in n?Dt(n,h,{enumerable:!0,configurable:!0,writable:!0,value:d}):n[h]=d,R=(n,h)=>{for(var d in h||(h={}))ft.call(h,d)&&rt(n,d,h[d]);if(pt)for(var d of pt(h))wt.call(h,d)&&rt(n,d,h[d]);return n},m=(n,h)=>mt(n,bt(h));var A=(n,h,d)=>rt(n,typeof h!="symbol"?h+"":h,d),ht=(n,h,d)=>h.has(n)||It("Cannot "+d);var i=(n,h,d)=>(ht(n,h,"read from private field"),d?d.call(n):h.get(n)),T=(n,h,d)=>h.has(n)?It("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(n):h.set(n,d),g=(n,h,d,N)=>(ht(n,h,"write to private field"),N?N.call(n,d):h.set(n,d),d),x=(n,h,d)=>(ht(n,h,"access private method"),d);var a=(n,h,d)=>new Promise((N,p)=>{var S=I=>{try{E(d.next(I))}catch(b){p(b)}},D=I=>{try{E(d.throw(I))}catch(b){p(b)}},E=I=>I.done?N(I.value):Promise.resolve(I.value).then(S,D);E((d=d.apply(n,h)).next())}),j=function(n,h){this[0]=n,this[1]=h},At=(n,h,d)=>{var N=(D,E,I,b)=>{try{var W=d[D](E),z=(E=W.value)instanceof j,Z=W.done;Promise.resolve(z?E[0]:E).then(w=>z?N(D==="return"?D:"next",E[1]?{done:w.done,value:w.value}:w,I,b):I({value:w,done:Z})).catch(w=>N("throw",w,I,b))}catch(w){b(w)}},p=D=>S[D]=E=>new Promise((I,b)=>N(D,E,I,b)),S={};return d=d.apply(n,h),S[nt("asyncIterator")]=()=>S,p("next"),p("throw"),p("return"),S};var ut=(n,h,d)=>(h=n[nt("asyncIterator")])?h.call(n):(n=n[nt("iterator")](),h={},d=(N,p)=>(p=n[N])&&(h[N]=S=>new Promise((D,E,I)=>(S=p.call(n,S),I=S.done,Promise.resolve(S.value).then(b=>D({value:b,done:I}),E)))),d("next"),d("return"),h);var K,V,$,L,y,Et,dt,H,Tt,C,G,Y,F,r,U,O,M,B,X,P;const h={ALL:"all",LAST:"last",FREQUENCY:"frequency"},d={JSON:"application/json",CSV:"text/csv",NDJSON:"application/x-ndjson"},N={INDEX_CREATION_FAILED:"index_creation_failed",MISSING_INDEX_UID:"missing_index_uid",INDEX_ALREADY_EXISTS:"index_already_exists",INDEX_NOT_FOUND:"index_not_found",INVALID_INDEX_UID:"invalid_index_uid",INDEX_NOT_ACCESSIBLE:"index_not_accessible",INVALID_INDEX_OFFSET:"invalid_index_offset",INVALID_INDEX_LIMIT:"invalid_index_limit",INVALID_STATE:"invalid_state",PRIMARY_KEY_INFERENCE_FAILED:"primary_key_inference_failed",INDEX_PRIMARY_KEY_ALREADY_EXISTS:"index_primary_key_already_exists",INVALID_INDEX_PRIMARY_KEY:"invalid_index_primary_key",DOCUMENTS_FIELDS_LIMIT_REACHED:"document_fields_limit_reached",MISSING_DOCUMENT_ID:"missing_document_id",INVALID_DOCUMENT_ID:"invalid_document_id",INVALID_CONTENT_TYPE:"invalid_content_type",MISSING_CONTENT_TYPE:"missing_content_type",INVALID_DOCUMENT_FIELDS:"invalid_document_fields",INVALID_DOCUMENT_LIMIT:"invalid_document_limit",INVALID_DOCUMENT_OFFSET:"invalid_document_offset",INVALID_DOCUMENT_FILTER:"invalid_document_filter",MISSING_DOCUMENT_FILTER:"missing_document_filter",INVALID_DOCUMENT_VECTORS_FIELD:"invalid_document_vectors_field",PAYLOAD_TOO_LARGE:"payload_too_large",MISSING_PAYLOAD:"missing_payload",MALFORMED_PAYLOAD:"malformed_payload",NO_SPACE_LEFT_ON_DEVICE:"no_space_left_on_device",INVALID_STORE_FILE:"invalid_store_file",INVALID_RANKING_RULES:"missing_document_id",INVALID_REQUEST:"invalid_request",INVALID_DOCUMENT_GEO_FIELD:"invalid_document_geo_field",INVALID_SEARCH_Q:"invalid_search_q",INVALID_SEARCH_OFFSET:"invalid_search_offset",INVALID_SEARCH_LIMIT:"invalid_search_limit",INVALID_SEARCH_PAGE:"invalid_search_page",INVALID_SEARCH_HITS_PER_PAGE:"invalid_search_hits_per_page",INVALID_SEARCH_ATTRIBUTES_TO_RETRIEVE:"invalid_search_attributes_to_retrieve",INVALID_SEARCH_ATTRIBUTES_TO_CROP:"invalid_search_attributes_to_crop",INVALID_SEARCH_CROP_LENGTH:"invalid_search_crop_length",INVALID_SEARCH_ATTRIBUTES_TO_HIGHLIGHT:"invalid_search_attributes_to_highlight",INVALID_SEARCH_SHOW_MATCHES_POSITION:"invalid_search_show_matches_position",INVALID_SEARCH_FILTER:"invalid_search_filter",INVALID_SEARCH_SORT:"invalid_search_sort",INVALID_SEARCH_FACETS:"invalid_search_facets",INVALID_SEARCH_HIGHLIGHT_PRE_TAG:"invalid_search_highlight_pre_tag",INVALID_SEARCH_HIGHLIGHT_POST_TAG:"invalid_search_highlight_post_tag",INVALID_SEARCH_CROP_MARKER:"invalid_search_crop_marker",INVALID_SEARCH_MATCHING_STRATEGY:"invalid_search_matching_strategy",INVALID_SEARCH_VECTOR:"invalid_search_vector",INVALID_SEARCH_ATTRIBUTES_TO_SEARCH_ON:"invalid_search_attributes_to_search_on",BAD_REQUEST:"bad_request",DOCUMENT_NOT_FOUND:"document_not_found",INTERNAL:"internal",INVALID_API_KEY:"invalid_api_key",INVALID_API_KEY_DESCRIPTION:"invalid_api_key_description",INVALID_API_KEY_ACTIONS:"invalid_api_key_actions",INVALID_API_KEY_INDEXES:"invalid_api_key_indexes",INVALID_API_KEY_EXPIRES_AT:"invalid_api_key_expires_at",API_KEY_NOT_FOUND:"api_key_not_found",IMMUTABLE_API_KEY_UID:"immutable_api_key_uid",IMMUTABLE_API_KEY_ACTIONS:"immutable_api_key_actions",IMMUTABLE_API_KEY_INDEXES:"immutable_api_key_indexes",IMMUTABLE_API_KEY_EXPIRES_AT:"immutable_api_key_expires_at",IMMUTABLE_API_KEY_CREATED_AT:"immutable_api_key_created_at",IMMUTABLE_API_KEY_UPDATED_AT:"immutable_api_key_updated_at",MISSING_AUTHORIZATION_HEADER:"missing_authorization_header",UNRETRIEVABLE_DOCUMENT:"unretrievable_document",MAX_DATABASE_SIZE_LIMIT_REACHED:"database_size_limit_reached",TASK_NOT_FOUND:"task_not_found",DUMP_PROCESS_FAILED:"dump_process_failed",DUMP_NOT_FOUND:"dump_not_found",INVALID_SWAP_DUPLICATE_INDEX_FOUND:"invalid_swap_duplicate_index_found",INVALID_SWAP_INDEXES:"invalid_swap_indexes",MISSING_SWAP_INDEXES:"missing_swap_indexes",MISSING_MASTER_KEY:"missing_master_key",INVALID_TASK_TYPES:"invalid_task_types",INVALID_TASK_UIDS:"invalid_task_uids",INVALID_TASK_STATUSES:"invalid_task_statuses",INVALID_TASK_LIMIT:"invalid_task_limit",INVALID_TASK_FROM:"invalid_task_from",INVALID_TASK_CANCELED_BY:"invalid_task_canceled_by",MISSING_TASK_FILTERS:"missing_task_filters",TOO_MANY_OPEN_FILES:"too_many_open_files",IO_ERROR:"io_error",INVALID_TASK_INDEX_UIDS:"invalid_task_index_uids",IMMUTABLE_INDEX_UID:"immutable_index_uid",IMMUTABLE_INDEX_CREATED_AT:"immutable_index_created_at",IMMUTABLE_INDEX_UPDATED_AT:"immutable_index_updated_at",INVALID_SETTINGS_DISPLAYED_ATTRIBUTES:"invalid_settings_displayed_attributes",INVALID_SETTINGS_SEARCHABLE_ATTRIBUTES:"invalid_settings_searchable_attributes",INVALID_SETTINGS_FILTERABLE_ATTRIBUTES:"invalid_settings_filterable_attributes",INVALID_SETTINGS_SORTABLE_ATTRIBUTES:"invalid_settings_sortable_attributes",INVALID_SETTINGS_RANKING_RULES:"invalid_settings_ranking_rules",INVALID_SETTINGS_STOP_WORDS:"invalid_settings_stop_words",INVALID_SETTINGS_SYNONYMS:"invalid_settings_synonyms",INVALID_SETTINGS_DISTINCT_ATTRIBUTE:"invalid_settings_distinct_attribute",INVALID_SETTINGS_TYPO_TOLERANCE:"invalid_settings_typo_tolerance",INVALID_SETTINGS_FACETING:"invalid_settings_faceting",INVALID_SETTINGS_PAGINATION:"invalid_settings_pagination",INVALID_SETTINGS_SEARCH_CUTOFF_MS:"invalid_settings_search_cutoff_ms",INVALID_SETTINGS_LOCALIZED_ATTRIBUTES:"invalid_settings_localized_attributes",INVALID_TASK_BEFORE_ENQUEUED_AT:"invalid_task_before_enqueued_at",INVALID_TASK_AFTER_ENQUEUED_AT:"invalid_task_after_enqueued_at",INVALID_TASK_BEFORE_STARTED_AT:"invalid_task_before_started_at",INVALID_TASK_AFTER_STARTED_AT:"invalid_task_after_started_at",INVALID_TASK_BEFORE_FINISHED_AT:"invalid_task_before_finished_at",INVALID_TASK_AFTER_FINISHED_AT:"invalid_task_after_finished_at",MISSING_API_KEY_ACTIONS:"missing_api_key_actions",MISSING_API_KEY_INDEXES:"missing_api_key_indexes",MISSING_API_KEY_EXPIRES_AT:"missing_api_key_expires_at",INVALID_API_KEY_LIMIT:"invalid_api_key_limit",INVALID_API_KEY_OFFSET:"invalid_api_key_offset",INVALID_FACET_SEARCH_FACET_NAME:"invalid_facet_search_facet_name",MISSING_FACET_SEARCH_FACET_NAME:"missing_facet_search_facet_name",INVALID_FACET_SEARCH_FACET_QUERY:"invalid_facet_search_facet_query",INVALID_SEARCH_RANKING_SCORE_THRESHOLD:"invalid_search_ranking_score_threshold",INVALID_SIMILAR_RANKING_SCORE_THRESHOLD:"invalid_similar_ranking_score_threshold"};class p extends Error{constructor(){super(...arguments);A(this,"name","MeiliSearchError")}}class S extends p{constructor(e,s){var u;super((u=s==null?void 0:s.message)!=null?u:`${e.status}: ${e.statusText}`);A(this,"name","MeiliSearchApiError");A(this,"cause");A(this,"response");this.response=e,s!==void 0&&(this.cause=s)}}class D extends p{constructor(e,s){super(`Request to ${e} has failed`,{cause:s});A(this,"name","MeiliSearchRequestError")}}class E extends p{constructor(e,s){super(`request timed out after ${e}ms`);A(this,"name","MeiliSearchRequestTimeOutError");A(this,"cause");this.cause={timeout:e,requestInit:s}}}class I extends p{constructor(e,s){super(`timeout of ${s}ms has exceeded on task ${e} when waiting for it to be resolved.`);A(this,"name","MeiliSearchTaskTimeOutError");A(this,"cause");this.cause={taskUid:e,timeout:s}}}const W={version:"0.54.0"};function z(_){return _.startsWith("https://")||_.startsWith("http://")?_:`http://${_}`}function Z(_){return _.endsWith("/")||(_+="/"),_}function w(_,t){for(const[e,s]of Object.entries(t))s!=null&&_.set(e,Array.isArray(s)?s.join():s instanceof Date?s.toISOString():String(s))}function gt(_,t){const e="X-Meilisearch-Client",s=`Meilisearch JavaScript (v${W.version})`,u="Content-Type",o="Authorization",c=new Headers(t);if(_.apiKey&&!c.has(o)&&c.set(o,`Bearer ${_.apiKey}`),c.has(u)||c.set(u,"application/json"),_.clientAgents!==void 0){const l=_.clientAgents.concat(s);c.set(e,l.join(" ; "))}else c.set(e,s);return c}const Q=Symbol("<timeout>");function _t(_,t){const{signal:e}=_,s=new AbortController;if(e!=null){let u=null;if(e.aborted)s.abort(e.reason);else{const o=()=>s.abort(e.reason);e.addEventListener("abort",o,{once:!0}),u=()=>e.removeEventListener("abort",o),s.signal.addEventListener("abort",u,{once:!0})}return()=>{if(e.aborted)return;const o=setTimeout(()=>s.abort(Q),t),c=()=>{clearTimeout(o),u!==null&&s.signal.removeEventListener("abort",u)};return e.addEventListener("abort",c,{once:!0}),()=>{e.removeEventListener("abort",c),c()}}}return _.signal=s.signal,()=>{const u=setTimeout(()=>s.abort(Q),t);return()=>clearTimeout(u)}}class tt{constructor(t){T(this,y);T(this,K);T(this,V);T(this,$);T(this,L);var s;const e=Z(z(t.host));try{g(this,K,new URL(e))}catch(u){throw new p("The provided host is not valid",{cause:u})}g(this,V,m(R({},t.requestInit),{headers:gt(t,(s=t.requestInit)==null?void 0:s.headers)})),g(this,$,t.httpClient),g(this,L,t.timeout)}get(t){return x(this,y,H).call(this,t)}post(t){return x(this,y,H).call(this,m(R({},t),{method:"POST"}))}put(t){return x(this,y,H).call(this,m(R({},t),{method:"PUT"}))}patch(t){return x(this,y,H).call(this,m(R({},t),{method:"PATCH"}))}delete(t){return x(this,y,H).call(this,m(R({},t),{method:"DELETE"}))}postStream(t){return x(this,y,Tt).call(this,m(R({},t),{method:"POST"}))}}K=new WeakMap,V=new WeakMap,$=new WeakMap,L=new WeakMap,y=new WeakSet,Et=function(t,e){if(t===void 0&&e===void 0)return i(this,V).headers;const s=new Headers(t);e!==void 0&&!s.has("Content-Type")&&s.set("Content-Type",e);for(const[u,o]of i(this,V).headers)s.has(u)||s.set(u,o);return s},dt=function({path:t,method:e,params:s,contentType:u,body:o,extraRequestInit:c}){const l=new URL(t,i(this,K));s!==void 0&&w(l.searchParams,s);const f=m(R(R({method:e,body:u===void 0||typeof o!="string"?JSON.stringify(o):o},c),i(this,V)),{headers:x(this,y,Et).call(this,c==null?void 0:c.headers,u)});return{url:l,init:f}},H=function(t){return a(this,null,function*(){const{url:e,init:s}=x(this,y,dt).call(this,t),u=i(this,L)!==void 0?_t(s,i(this,L)):null,o=u==null?void 0:u();let c,l;try{if(i(this,$)!==void 0)return yield i(this,$).call(this,e,s);c=yield fetch(e,s),l=yield c.text()}catch(q){throw new D(e.toString(),Object.is(q,Q)?new E(i(this,L),s):q)}finally{o==null||o()}const f=l===""?void 0:JSON.parse(l);if(!c.ok)throw new S(c,f);return f})},Tt=function(t){return a(this,null,function*(){const{url:e,init:s}=x(this,y,dt).call(this,t),u=i(this,L)!==void 0?_t(s,i(this,L)):null,o=u==null?void 0:u();let c;try{if(i(this,$)!==void 0){const l=yield i(this,$).call(this,e,s);if(!(l instanceof ReadableStream))throw new p("Custom HTTP client must return a ReadableStream for streaming requests");return l}c=yield fetch(e,s)}catch(l){throw new D(e.toString(),Object.is(l,Q)?new E(i(this,L),s):l)}finally{o==null||o()}if(!c.ok){const l=yield c.text(),f=l===""?void 0:JSON.parse(l);throw new S(c,f)}if(!c.body)throw new p("Response body is null - server did not return a readable stream");return c.body})};const ct=Symbol("<task timeout>");function ot(_){return function(t){return Object.defineProperty(t,"waitTask",{value(s){return a(this,null,function*(){return yield _.waitForTask(yield t,s)})}})}}const St=_=>typeof _=="number"?_:_.taskUid;class et{constructor(t,e){T(this,C);T(this,G);T(this,Y);T(this,F);var s,u;g(this,C,t),g(this,G,(s=e==null?void 0:e.timeout)!=null?s:5e3),g(this,Y,(u=e==null?void 0:e.interval)!=null?u:50),g(this,F,ot(this))}getTask(t,e){return a(this,null,function*(){return yield i(this,C).get({path:`tasks/${t}`,extraRequestInit:e})})}getTasks(t){return a(this,null,function*(){return yield i(this,C).get({path:"tasks",params:t})})}waitForTask(t,e){return a(this,null,function*(){var f,q;const s=St(t),u=(f=e==null?void 0:e.timeout)!=null?f:i(this,G),o=(q=e==null?void 0:e.interval)!=null?q:i(this,Y),c=u>0?new AbortController:null,l=c!==null?setTimeout(()=>void c.abort(ct),u):void 0;try{for(;;){const v=yield this.getTask(s,{signal:c==null?void 0:c.signal});if(v.status!=="enqueued"&&v.status!=="processing")return clearTimeout(l),v;o>0&&(yield new Promise(J=>setTimeout(J,o)))}}catch(v){throw Object.is(v.cause,ct)?new I(s,u):v}})}waitForTasksIter(t,e){return At(this,null,function*(){try{for(var s=ut(t),u,o,c;u=!(o=yield new j(s.next())).done;u=!1){const l=o.value;yield yield new j(this.waitForTask(l,e))}}catch(o){c=[o]}finally{try{u&&(o=s.return)&&(yield new j(o.call(s)))}finally{if(c)throw c[0]}}})}waitForTasks(...t){return a(this,null,function*(){const e=[];try{for(var s=ut(this.waitForTasksIter(...t)),u,o,c;u=!(o=yield s.next()).done;u=!1){const l=o.value;e.push(l)}}catch(o){c=[o]}finally{try{u&&(o=s.return)&&(yield o.call(s))}finally{if(c)throw c[0]}}return e})}cancelTasks(t){return i(this,F).call(this,i(this,C).post({path:"tasks/cancel",params:t}))}deleteTasks(t){return i(this,F).call(this,i(this,C).delete({path:"tasks",params:t}))}}C=new WeakMap,G=new WeakMap,Y=new WeakMap,F=new WeakMap;function st(_,t){const e=ot(t);return{post:(...s)=>e(_.post(...s)),put:(...s)=>e(_.put(...s)),patch:(...s)=>e(_.patch(...s)),delete:(...s)=>e(_.delete(...s))}}class k{constructor(t,e,s){A(this,"uid");A(this,"primaryKey");A(this,"createdAt");A(this,"updatedAt");A(this,"httpRequest");A(this,"tasks");T(this,r);this.uid=e,this.primaryKey=s,this.httpRequest=new tt(t),this.tasks=new et(this.httpRequest,t.defaultWaitOptions),g(this,r,st(this.httpRequest,this.tasks))}search(t,e,s){return a(this,null,function*(){return yield this.httpRequest.post({path:`indexes/${this.uid}/search`,body:R({q:t},e),extraRequestInit:s})})}searchGet(t,e,s){return a(this,null,function*(){var c,l,f,q,v,J,lt;const u=at=>{if(typeof at=="string")return at;if(Array.isArray(at))throw new p("The filter query parameter should be in string format when using searchGet")},o=m(R({q:t},e),{filter:u(e==null?void 0:e.filter),sort:(c=e==null?void 0:e.sort)==null?void 0:c.join(","),facets:(l=e==null?void 0:e.facets)==null?void 0:l.join(","),attributesToRetrieve:(f=e==null?void 0:e.attributesToRetrieve)==null?void 0:f.join(","),attributesToCrop:(q=e==null?void 0:e.attributesToCrop)==null?void 0:q.join(","),attributesToHighlight:(v=e==null?void 0:e.attributesToHighlight)==null?void 0:v.join(","),vector:(J=e==null?void 0:e.vector)==null?void 0:J.join(","),attributesToSearchOn:(lt=e==null?void 0:e.attributesToSearchOn)==null?void 0:lt.join(",")});return yield this.httpRequest.get({path:`indexes/${this.uid}/search`,params:o,extraRequestInit:s})})}searchForFacetValues(t,e){return a(this,null,function*(){return yield this.httpRequest.post({path:`indexes/${this.uid}/facet-search`,body:t,extraRequestInit:e})})}searchSimilarDocuments(t){return a(this,null,function*(){return yield this.httpRequest.post({path:`indexes/${this.uid}/similar`,body:t})})}getRawInfo(){return a(this,null,function*(){const t=yield this.httpRequest.get({path:`indexes/${this.uid}`});return this.primaryKey=t.primaryKey,this.updatedAt=new Date(t.updatedAt),this.createdAt=new Date(t.createdAt),t})}fetchInfo(){return a(this,null,function*(){return yield this.getRawInfo(),this})}fetchPrimaryKey(){return a(this,null,function*(){return this.primaryKey=(yield this.getRawInfo()).primaryKey,this.primaryKey})}static create(t,e={},s){const u=new tt(s);return st(u,new et(u)).post({path:"indexes",body:m(R({},e),{uid:t})})}update(t){return i(this,r).patch({path:`indexes/${this.uid}`,body:t})}delete(){return i(this,r).delete({path:`indexes/${this.uid}`})}getStats(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/stats`})})}getDocuments(t){return a(this,null,function*(){const e=`indexes/${this.uid}/documents`;return(t==null?void 0:t.filter)!==void 0?yield this.httpRequest.post({path:`${e}/fetch`,body:t}):yield this.httpRequest.get({path:e,params:t})})}getDocument(t,e){return a(this,null,function*(){const s=Array.isArray(e==null?void 0:e.fields)?e.fields.join():void 0;return yield this.httpRequest.get({path:`indexes/${this.uid}/documents/${t}`,params:m(R({},e),{fields:s})})})}addDocuments(t,e){return i(this,r).post({path:`indexes/${this.uid}/documents`,params:e,body:t})}addDocumentsFromString(t,e,s){return i(this,r).post({path:`indexes/${this.uid}/documents`,body:t,params:s,contentType:e})}addDocumentsInBatches(t,e=1e3,s){const u=[];for(let o=0;o<t.length;o+=e)u.push(this.addDocuments(t.slice(o,o+e),s));return u}updateDocuments(t,e){return i(this,r).put({path:`indexes/${this.uid}/documents`,params:e,body:t})}updateDocumentsInBatches(t,e=1e3,s){const u=[];for(let o=0;o<t.length;o+=e)u.push(this.updateDocuments(t.slice(o,o+e),s));return u}updateDocumentsFromString(t,e,s){return i(this,r).put({path:`indexes/${this.uid}/documents`,body:t,params:s,contentType:e})}deleteDocument(t){return i(this,r).delete({path:`indexes/${this.uid}/documents/${t}`})}deleteDocuments(t){const s=!Array.isArray(t)&&typeof t=="object"?"documents/delete":"documents/delete-batch";return i(this,r).post({path:`indexes/${this.uid}/${s}`,body:t})}deleteAllDocuments(){return i(this,r).delete({path:`indexes/${this.uid}/documents`})}updateDocumentsByFunction(t){return i(this,r).post({path:`indexes/${this.uid}/documents/edit`,body:t})}getSettings(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings`})})}updateSettings(t){return i(this,r).patch({path:`indexes/${this.uid}/settings`,body:t})}resetSettings(){return i(this,r).delete({path:`indexes/${this.uid}/settings`})}getPagination(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/pagination`})})}updatePagination(t){return i(this,r).patch({path:`indexes/${this.uid}/settings/pagination`,body:t})}resetPagination(){return i(this,r).delete({path:`indexes/${this.uid}/settings/pagination`})}getSynonyms(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/synonyms`})})}updateSynonyms(t){return i(this,r).put({path:`indexes/${this.uid}/settings/synonyms`,body:t})}resetSynonyms(){return i(this,r).delete({path:`indexes/${this.uid}/settings/synonyms`})}getStopWords(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/stop-words`})})}updateStopWords(t){return i(this,r).put({path:`indexes/${this.uid}/settings/stop-words`,body:t})}resetStopWords(){return i(this,r).delete({path:`indexes/${this.uid}/settings/stop-words`})}getRankingRules(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/ranking-rules`})})}updateRankingRules(t){return i(this,r).put({path:`indexes/${this.uid}/settings/ranking-rules`,body:t})}resetRankingRules(){return i(this,r).delete({path:`indexes/${this.uid}/settings/ranking-rules`})}getDistinctAttribute(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/distinct-attribute`})})}updateDistinctAttribute(t){return i(this,r).put({path:`indexes/${this.uid}/settings/distinct-attribute`,body:t})}resetDistinctAttribute(){return i(this,r).delete({path:`indexes/${this.uid}/settings/distinct-attribute`})}getFilterableAttributes(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/filterable-attributes`})})}updateFilterableAttributes(t){return i(this,r).put({path:`indexes/${this.uid}/settings/filterable-attributes`,body:t})}resetFilterableAttributes(){return i(this,r).delete({path:`indexes/${this.uid}/settings/filterable-attributes`})}getSortableAttributes(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/sortable-attributes`})})}updateSortableAttributes(t){return i(this,r).put({path:`indexes/${this.uid}/settings/sortable-attributes`,body:t})}resetSortableAttributes(){return i(this,r).delete({path:`indexes/${this.uid}/settings/sortable-attributes`})}getSearchableAttributes(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/searchable-attributes`})})}updateSearchableAttributes(t){return i(this,r).put({path:`indexes/${this.uid}/settings/searchable-attributes`,body:t})}resetSearchableAttributes(){return i(this,r).delete({path:`indexes/${this.uid}/settings/searchable-attributes`})}getDisplayedAttributes(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/displayed-attributes`})})}updateDisplayedAttributes(t){return i(this,r).put({path:`indexes/${this.uid}/settings/displayed-attributes`,body:t})}resetDisplayedAttributes(){return i(this,r).delete({path:`indexes/${this.uid}/settings/displayed-attributes`})}getTypoTolerance(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/typo-tolerance`})})}updateTypoTolerance(t){return i(this,r).patch({path:`indexes/${this.uid}/settings/typo-tolerance`,body:t})}resetTypoTolerance(){return i(this,r).delete({path:`indexes/${this.uid}/settings/typo-tolerance`})}getFaceting(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/faceting`})})}updateFaceting(t){return i(this,r).patch({path:`indexes/${this.uid}/settings/faceting`,body:t})}resetFaceting(){return i(this,r).delete({path:`indexes/${this.uid}/settings/faceting`})}getSeparatorTokens(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/separator-tokens`})})}updateSeparatorTokens(t){return i(this,r).put({path:`indexes/${this.uid}/settings/separator-tokens`,body:t})}resetSeparatorTokens(){return i(this,r).delete({path:`indexes/${this.uid}/settings/separator-tokens`})}getNonSeparatorTokens(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/non-separator-tokens`})})}updateNonSeparatorTokens(t){return i(this,r).put({path:`indexes/${this.uid}/settings/non-separator-tokens`,body:t})}resetNonSeparatorTokens(){return i(this,r).delete({path:`indexes/${this.uid}/settings/non-separator-tokens`})}getDictionary(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/dictionary`})})}updateDictionary(t){return i(this,r).put({path:`indexes/${this.uid}/settings/dictionary`,body:t})}resetDictionary(){return i(this,r).delete({path:`indexes/${this.uid}/settings/dictionary`})}getProximityPrecision(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/proximity-precision`})})}updateProximityPrecision(t){return i(this,r).put({path:`indexes/${this.uid}/settings/proximity-precision`,body:t})}resetProximityPrecision(){return i(this,r).delete({path:`indexes/${this.uid}/settings/proximity-precision`})}getEmbedders(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/embedders`})})}updateEmbedders(t){return i(this,r).patch({path:`indexes/${this.uid}/settings/embedders`,body:t})}resetEmbedders(){return i(this,r).delete({path:`indexes/${this.uid}/settings/embedders`})}getSearchCutoffMs(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/search-cutoff-ms`})})}updateSearchCutoffMs(t){return i(this,r).put({path:`indexes/${this.uid}/settings/search-cutoff-ms`,body:t})}resetSearchCutoffMs(){return i(this,r).delete({path:`indexes/${this.uid}/settings/search-cutoff-ms`})}getLocalizedAttributes(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/localized-attributes`})})}updateLocalizedAttributes(t){return i(this,r).put({path:`indexes/${this.uid}/settings/localized-attributes`,body:t})}resetLocalizedAttributes(){return i(this,r).delete({path:`indexes/${this.uid}/settings/localized-attributes`})}getFacetSearch(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/facet-search`})})}updateFacetSearch(t){return i(this,r).put({path:`indexes/${this.uid}/settings/facet-search`,body:t})}resetFacetSearch(){return i(this,r).delete({path:`indexes/${this.uid}/settings/facet-search`})}getPrefixSearch(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/prefix-search`})})}updatePrefixSearch(t){return i(this,r).put({path:`indexes/${this.uid}/settings/prefix-search`,body:t})}resetPrefixSearch(){return i(this,r).delete({path:`indexes/${this.uid}/settings/prefix-search`})}getChat(){return a(this,null,function*(){return yield this.httpRequest.get({path:`indexes/${this.uid}/settings/chat`})})}updateChat(t){return i(this,r).patch({path:`indexes/${this.uid}/settings/chat`,body:t})}}r=new WeakMap;class yt{constructor(t){T(this,U);g(this,U,t)}getBatch(t){return a(this,null,function*(){return yield i(this,U).get({path:`batches/${t}`})})}getBatches(t){return a(this,null,function*(){return yield i(this,U).get({path:"batches",params:t})})}}U=new WeakMap;class Rt{constructor(t,e){T(this,O);T(this,M);g(this,O,t),g(this,M,e)}get(){return a(this,null,function*(){return yield i(this,O).get({path:`chats/${i(this,M)}/settings`})})}update(t){return a(this,null,function*(){return yield i(this,O).patch({path:`chats/${i(this,M)}/settings`,body:t})})}reset(){return a(this,null,function*(){yield i(this,O).delete({path:`chats/${i(this,M)}/settings`})})}streamCompletion(t){return a(this,null,function*(){if(!t.stream)throw new Error("The SDK only supports streaming");return yield i(this,O).postStream({path:`chats/${i(this,M)}/chat/completions`,body:t})})}}O=new WeakMap,M=new WeakMap;class it{constructor(t){A(this,"config");A(this,"httpRequest");T(this,B);T(this,X);T(this,P);this.config=t,this.httpRequest=new tt(t),g(this,B,new et(this.httpRequest,t.defaultWaitOptions)),g(this,X,new yt(this.httpRequest)),g(this,P,st(this.httpRequest,this.tasks))}get tasks(){return i(this,B)}get batches(){return i(this,X)}index(t){return new k(this.config,t)}getIndex(t){return a(this,null,function*(){return new k(this.config,t).fetchInfo()})}getRawIndex(t){return a(this,null,function*(){return new k(this.config,t).getRawInfo()})}getIndexes(t){return a(this,null,function*(){const e=yield this.getRawIndexes(t),s=e.results.map(u=>new k(this.config,u.uid,u.primaryKey));return m(R({},e),{results:s})})}getRawIndexes(t){return a(this,null,function*(){return yield this.httpRequest.get({path:"indexes",params:t})})}createIndex(t,e){return k.create(t,e,this.config)}updateIndex(t,e){return new k(this.config,t).update(e)}deleteIndex(t){return new k(this.config,t).delete()}deleteIndexIfExists(t){return a(this,null,function*(){var e;try{return yield this.deleteIndex(t),!0}catch(s){if(((e=s==null?void 0:s.cause)==null?void 0:e.code)===N.INDEX_NOT_FOUND)return!1;throw s}})}swapIndexes(t){return i(this,P).post({path:"swap-indexes",body:t})}multiSearch(t,e){return a(this,null,function*(){return yield this.httpRequest.post({path:"multi-search",body:t,extraRequestInit:e})})}chat(t){return new Rt(this.httpRequest,t)}getChatWorkspaces(){return a(this,null,function*(){return yield this.httpRequest.get({path:"chats"})})}getWebhooks(){return a(this,null,function*(){return yield this.httpRequest.get({path:"webhooks"})})}getWebhook(t){return a(this,null,function*(){return yield this.httpRequest.get({path:`webhooks/${t}`})})}createWebhook(t){return a(this,null,function*(){return yield this.httpRequest.post({path:"webhooks",body:t})})}updateWebhook(t,e){return a(this,null,function*(){return yield this.httpRequest.patch({path:`webhooks/${t}`,body:e})})}deleteWebhook(t){return a(this,null,function*(){yield this.httpRequest.delete({path:`webhooks/${t}`})})}getNetwork(){return a(this,null,function*(){return yield this.httpRequest.get({path:"network"})})}updateNetwork(t){return a(this,null,function*(){return yield this.httpRequest.patch({path:"network",body:t})})}getKeys(t){return a(this,null,function*(){const e=yield this.httpRequest.get({path:"keys",params:t});return e.results=e.results.map(s=>m(R({},s),{createdAt:new Date(s.createdAt),updatedAt:new Date(s.updatedAt)})),e})}getKey(t){return a(this,null,function*(){return yield this.httpRequest.get({path:`keys/${t}`})})}createKey(t){return a(this,null,function*(){return yield this.httpRequest.post({path:"keys",body:t})})}updateKey(t,e){return a(this,null,function*(){return yield this.httpRequest.patch({path:`keys/${t}`,body:e})})}deleteKey(t){return a(this,null,function*(){yield this.httpRequest.delete({path:`keys/${t}`})})}health(){return a(this,null,function*(){return yield this.httpRequest.get({path:"health"})})}isHealthy(){return a(this,null,function*(){try{const{status:t}=yield this.health();return t==="available"}catch(t){return!1}})}getStats(){return a(this,null,function*(){return yield this.httpRequest.get({path:"stats"})})}getVersion(){return a(this,null,function*(){return yield this.httpRequest.get({path:"version"})})}createDump(){return i(this,P).post({path:"dumps"})}createSnapshot(){return i(this,P).post({path:"snapshots"})}getExperimentalFeatures(){return a(this,null,function*(){return yield this.httpRequest.get({path:"experimental-features"})})}updateExperimentalFeatures(t){return a(this,null,function*(){return yield this.httpRequest.patch({path:"experimental-features",body:t})})}}B=new WeakMap,X=new WeakMap,P=new WeakMap;const Nt=it;n.ContentTypeEnum=d,n.ErrorStatusCode=N,n.Index=k,n.MatchingStrategies=h,n.MeiliSearch=it,n.MeiliSearchApiError=S,n.MeiliSearchError=p,n.MeiliSearchRequestError=D,n.MeiliSearchRequestTimeOutError=E,n.MeiliSearchTaskTimeOutError=I,n.Meilisearch=it,n.default=Nt,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});(function(){if(typeof self!="undefined"){var n=Object.assign({},self.meilisearch);delete n.default,Object.assign(self,n)}})();
//# sourceMappingURL=index.min.js.map
